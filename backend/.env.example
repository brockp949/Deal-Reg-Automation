# Server Configuration
NODE_ENV=development
PORT=4000
API_PREFIX=/api

# Database
DATABASE_URL=postgresql://dealreg_user:dealreg_password@localhost:5432/dealreg

# Redis
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# File Upload
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5368709120
# MAX_FILE_SIZE is in bytes. Current: 5GB (5368709120 bytes)
# Supports large MBOX files for comprehensive email archive processing
ALLOWED_FILE_TYPES=.mbox,.csv,.txt,.pdf,.docx,.json
CONFIG_STORAGE_DIR=./config-uploads
VIRUS_SCAN_PROVIDER=stub
CLAMAV_HOST=127.0.0.1
CLAMAV_PORT=3310
VIRUS_SCAN_FAIL_OPEN=true

# AI Services (Optional for Phase 1)
ANTHROPIC_API_KEY=your-anthropic-api-key
OPENAI_API_KEY=your-openai-api-key

# Email Service (Optional for Phase 1)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-password
EMAIL_FROM=Deal Reg System <noreply@dealreg.com>

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3200

# Logging
LOG_LEVEL=debug

# Ingestion
USE_FILE_PROCESSOR_V2=false

# Google Workspace Service Account (optional)
# Obtain credentials from Google Cloud Console > IAM & Admin > Service Accounts
# The private key should be the full JSON content from the downloaded key file
# For security, consider using a path to a JSON key file instead:
# GOOGLE_SERVICE_ACCOUNT_KEY_PATH=/path/to/service-account-key.json
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY=
GOOGLE_IMPERSONATED_USER=user@yourdomain.com

# Gmail connector defaults
GMAIL_SYNC_ENABLED=false
GMAIL_SYNC_QUERIES=4IEC,quote,RFQ
GMAIL_SYNC_WINDOW_DAYS=180
GMAIL_SYNC_MAX_RESULTS=50

# Drive connector defaults
DRIVE_SYNC_ENABLED=false
DRIVE_SYNC_QUERIES=4IEC,meeting
DRIVE_SYNC_MIME_TYPES=application/vnd.google-apps.document
DRIVE_SYNC_PAGE_SIZE=20

# Notifications (Phase 8.2)
NOTIFICATION_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
NOTIFICATION_THROTTLE_WINDOW_MS=300000
NOTIFICATION_MAX_PER_WINDOW=10
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY_MS=2000
NOTIFICATION_EMAIL_RECIPIENTS=ops@example.com,sales@example.com
NOTIFICATION_DRY_RUN=true

# API Keys (Phase 8.3)
# Format: KEY:role:description,KEY:role:description
# Roles: read (GET only), write (GET/POST/PUT), admin (all operations)
# Examples:
#   Single key (legacy): abc123def456 (defaults to admin role)
#   Multiple keys: abc123:read:BI Dashboard,xyz789:admin:Admin Key,def456:write:Integration Key
OPPORTUNITY_API_KEYS=your-api-key-here:admin:Admin Key

# Google Sheets Integration (Transcript Export)
# Enable Google Sheets export for transcript processing
GOOGLE_SHEETS_ENABLED=false
# The ID from your Google Sheets URL: https://docs.google.com/spreadsheets/d/{SPREADSHEET_ID}/edit
GOOGLE_SHEETS_SPREADSHEET_ID=your-spreadsheet-id
# Sheet name within the spreadsheet (default: Deals)
GOOGLE_SHEETS_SHEET_NAME=Deals
# Uses the Google service account credentials above (GOOGLE_CLIENT_EMAIL, GOOGLE_PRIVATE_KEY)
# Make sure to share the spreadsheet with the service account email
